---
/* src/components/about/MicroCredentials.astro */

const stats = [
  {
    id: "max-credits",
    value: "30%",
    label: "Maximum Credits",
    description: "Of total degree units can come from micro-credentials",
  },
  {
    id: "hours",
    value: "17-18",
    label: "Hours",
    description: "Per credit unit of instruction",
  },
  {
    id: "pqf-levels",
    value: "4",
    label: "PQF Levels",
    description: "Covered by our micro-credential programs",
  },
];

const features = [
  {
    id: "stackable",
    icon: "ðŸŽ“",
    title: "Stackable Credits",
    description:
      "Earn credits that can contribute towards formal degree programs, providing flexible pathways to higher education.",
  },
  {
    id: "flexible",
    icon: "âš¡",
    title: "Flexible Learning",
    description:
      "Choose from various delivery modes including online, blended, and face-to-face options to suit your schedule.",
  },
  {
    id: "industry-aligned",
    icon: "ðŸŽ¯",
    title: "Industry-Aligned",
    description:
      "Programs designed in collaboration with industry partners to ensure relevant and practical skill development.",
  },
];

const pqfData = [
  {
    level: "Level 8",
    qualification: "Doctoral",
    micro: "Fewer units than doctoral coursework",
  },
  {
    level: "Level 7",
    qualification: "Master's",
    micro: "Fewer units than postgraduate diploma",
  },
  {
    level: "Level 6",
    qualification: "Bachelor's",
    micro: "Fewer units than associate degree",
  },
  { level: "Level 5", qualification: "Associate Degree", micro: null }, // Handled by rowspan
];
---

<section
  id="micro-credentials-section"
  class="py-20 bg-gradient-to-br from-white via-purple-50 to-white"
>
  <div
    id="micro-credentials-container"
    class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"
  >
    <h2
      id="micro-credentials-title"
      class="text-4xl font-bold text-center mb-8 bg-clip-text text-transparent bg-gradient-to-r from-purple-600 to-purple-800"
    >
      Understanding Micro-credentials
    </h2>
    <p
      id="micro-credentials-description"
      class="text-lg text-gray-600 text-center mb-12 max-w-3xl mx-auto"
    >
      Micro-credentials are smaller units of learning that provide focused
      knowledge, skills, and competencies in specific fields. They offer
      flexible pathways to formal qualifications while maintaining high academic
      standards.
    </p>

    <!-- Inlined Stats Grid -->
    <div id="stats-grid" class="grid grid-cols-1 md:grid-cols-3 gap-8">
      {
        stats.map((stat) => (
          <div
            id={`${stat.id}-card`}
            class="relative p-6 bg-white rounded-xl shadow-lg overflow-hidden group hover:shadow-xl transition-all duration-500 transform hover:-translate-y-2"
          >
            <div
              id={`${stat.id}-bg-gradient`}
              class="absolute inset-0 bg-gradient-to-br from-purple-50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"
            />
            <div id={`${stat.id}-content`} class="relative z-10">
              <div
                id={`${stat.id}-value`}
                class="text-4xl font-bold bg-gradient-to-r from-purple-600 to-purple-800 bg-clip-text text-transparent mb-2"
              >
                {stat.value}
              </div>
              <div
                id={`${stat.id}-label`}
                class="text-xl font-semibold text-gray-800 mb-2"
              >
                {stat.label}
              </div>
              <p id={`${stat.id}-description`} class="text-gray-600">
                {stat.description}
              </p>
            </div>
            <div
              id={`${stat.id}-bg-circle`}
              class="absolute -right-4 -bottom-4 w-24 h-24 bg-purple-100 rounded-full opacity-20 group-hover:scale-150 transition-transform duration-500"
            />
          </div>
        ))
      }
    </div>

    <!-- Inlined PQF Table -->
    <div id="pqf-section" class="bg-white rounded-2xl shadow-xl p-8 my-12">
      <h3 id="pqf-title" class="text-2xl font-semibold text-purple-800 mb-6">
        Philippine Qualifications Framework Levels
      </h3>
      <div
        id="pqf-table-container"
        class="overflow-x-auto rounded-lg shadow-lg"
      >
        <table id="pqf-table" class="min-w-full bg-white border-collapse">
          <thead>
            <tr
              id="pqf-table-header-row"
              class="bg-gradient-to-r from-purple-700 to-purple-800"
            >
              <th
                id="pqf-header-level"
                class="px-6 py-4 text-left text-white font-semibold border-b"
                >PQF Level</th
              >
              <th
                id="pqf-header-qualification"
                class="px-6 py-4 text-left text-white font-semibold border-b"
                >Academic Qualifications</th
              >
              <th
                id="pqf-header-micro"
                class="px-6 py-4 text-left text-white font-semibold border-b"
                >Micro-Credentials</th
              >
            </tr>
          </thead>
          <tbody id="pqf-table-body" class="divide-y divide-gray-200">
            {
              pqfData.map((row) => (
                <tr
                  id={`pqf-row-${row.level}`}
                  class="hover:bg-purple-50 transition duration-200"
                >
                  <td
                    id={`pqf-cell-${row.level}-level`}
                    class="px-6 py-4 whitespace-nowrap"
                  >
                    {row.level}
                  </td>
                  <td
                    id={`pqf-cell-${row.level}-qualification`}
                    class="px-6 py-4 whitespace-nowrap"
                  >
                    {row.qualification}
                  </td>

                  {/* FIX: Changed 'rowSpan' to 'rowspan' (lowercase) */}
                  {row.level === "Level 6" ? (
                    <td
                      id={`pqf-cell-${row.level}-micro`}
                      class="px-6 py-4"
                      rowspan={2}
                    >
                      {row.micro}
                    </td>
                  ) : (
                    row.micro && (
                      <td id={`pqf-cell-${row.level}-micro`} class="px-6 py-4">
                        {row.micro}
                      </td>
                    )
                  )}
                </tr>
              ))
            }
          </tbody>
        </table>
      </div>
    </div>

    <div
      id="micro-credentials-features-grid"
      class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 mt-12"
    >
      {
        features.map((feature) => (
          <div
            id={`${feature.id}-feature-card`}
            class="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300"
          >
            <div id={`${feature.id}-icon`} class="text-3xl mb-4">
              {feature.icon}
            </div>
            <h4
              id={`${feature.id}-feature-title`}
              class="text-xl font-semibold text-purple-800 mb-3"
            >
              {feature.title}
            </h4>
            <p id={`${feature.id}-feature-description`} class="text-gray-600">
              {feature.description}
            </p>
          </div>
        ))
      }
    </div>
  </div>
</section>
